
<table class="display" id="table_id" style="width:100%">
	<thead class="x-rapid-teal-heavy" style="width:100%">
		<tr class="">
			<th>ID<input style="border:0px" type="text" placeholder="Search" data-index="0" />
			</th>
			<th>First Name<input style="border:0px" type="text" placeholder="Search" data-index="1" />
			</th>
			<th>Middle Name<input style="border:0px" type="text" placeholder="Search" data-index="2" />
			</th>
			<th>Last Name<input style="border:0px" type="text" placeholder="Search" data-index=3 />
			</th>
			<th>Ext Name<input style="border:0px" type="text" placeholder="Search" data-index="4" />
			</th>
			<th>Sex<input style="border:0px" type="text" placeholder="Search" data-index="5" />
			</th>
			<th>Primary Crop<input style="border:0px" type="text" placeholder="Search" data-index=6 />
			</th>
			<th>Farmers Org<input style="border:0px" type="text" placeholder="Search" data-index=7 />
			</th>
			<th>Region<input style="border:0px" type="text" placeholder="Search" data-index=8 />
			</th>
			<th>Province<input style="border:0px" type="text" placeholder="Search" data-index="9" />
			</th>
			<th>City/Municipality<input style="border:0px" type="text" placeholder="Search" data-index="10" />
			</th>
			<th>DIP Ref<input style="border:0px" type="text" placeholder="Search" data-index="11" />
			</th>
			<th>Reference Code<input style="border:0px" type="text" placeholder="Search" data-index="12" />
			</th>
		</tr>
	</thead>
	<tbody id="list_farmers" style="">
	</tbody>
</table>

<script type="text/javascript">
	var init_counter = 0
	let TABLE

	function onloads(){
		showing_table_ls_farmer()
	}

	function showing_table_ls_farmer(){
		println(" -- Getting List Farmers")
		$send({
			action : "/feature_0/filter_list_farmers",
			method : POST,
			func : function (rest){
				println(" -- Getting List Farmers Done")
				res = JSON.parse(rest)
				create_table(res)
			},
			err : function(res){println(res)}
		})
		// TABLE.ajax.url('/feature_0/filter_list_farmers')

		// TABLE.ajax.reload()
	}


	function create_table (data_){
		println(" -- Creating Data Table")
		println(data_)
		TABLE = new DataTable('#table_id', {
			"scrollY":'60vh',
			"scrollX":true,
			"data" : data_
		});
		// TABLE.load(data_)
		// TABLE.ajax.reload()
		set_search_field()
	}

	function set_search_field(){
		// $('#table_id thead th').each( function (i) {
		// 	var title = $('#table_id thead th').eq( $(this).index() ).text();
		// 	println(i)
		// 	$(this).html( '<input type="text" placeholder="'+title+'" data-index="'+i+'" />' );
		// } );

		$(TABLE.table().container() ).on('keyup', 'thead input', function () {
			TABLE
				.column( $(this).data('index') )
				.search( this.value )
				.draw();
		} );

		$('#table_id tbody').on('mousedown', 'tr', function () {
			var data = TABLE.row(this).data();
			alert('You clicked on ' + data[0] + "'s row");
		})
	}

</script>