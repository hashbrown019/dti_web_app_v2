<!-- Templates -->
<div id="pubc" class="container shadow-sm p-3 mb-3 bg-body rounded mt-3">
	<p class=" container display-3 mt-5" style="color: #1F4F5A !important;">Plans, Forms and Public Documents</p>
	<div class=" container d-flex">
		<div class="nav container flex-row nav-pills pe-5 " id="v-pills-tab" role="tablist ">					
			<a class=" nav-link rounded-pill show active me-2" id="v-pills-mee-tab" data-bs-toggle="pill" data-bs-target="#v-pills-mee" type="button" role="tab" aria-controls="v-pills-mee" aria-selected="true" style="">M&E</a>
			<a class=" nav-link rounded-pill me-2 " id="v-pills-proc-tab" data-bs-toggle="pill" data-bs-target="#v-pills-proc" type="button" role="tab" aria-controls="v-pills-proc" aria-selected="false">Procurement</a>
			<!-- <a class=" nav-link rounded-pill me-2 " id="v-pills-LES-tab" data-bs-toggle="pill" data-bs-target="#v-pills-LES" type="button" role="tab" aria-controls="v-pills-LES" aria-selected="false">Lessons Learned</a>
			<a class=" nav-link rounded-pill me-2 " id="v-pills-KMP-tab" data-bs-toggle="pill" data-bs-target="#v-pills-KMP" type="button" role="tab" aria-controls="v-pills-KMP" aria-selected="false">KM Plan</a>
			<a class=" nav-link rounded-pill me-2 " id="v-pills-CP-tab" data-bs-toggle="pill" data-bs-target="#v-pills-CP" type="button" role="tab" aria-controls="v-pills-CP" aria-selected="false">Communication Plan</a>
			<a class=" nav-link rounded-pill me-2 " id="v-pills-CI-tab" data-bs-toggle="pill" data-bs-target="#v-pills-CI" type="button" role="tab" aria-controls="v-pills-CI" aria-selected="false">Capturing Innovations</a>
			<a class=" nav-link rounded-pill me-2 " id="v-pills-BP-tab" data-bs-toggle="pill" data-bs-target="#v-pills-BP" type="button" role="tab" aria-controls="v-pills-BP" aria-selected="false">Business Plan</a>					 -->
			<div class="tab-content w-100" id="v-pills-tabContent" style="overflow-y:scroll;max-height: 500px;">	
				<div class="container tab-pane active fade show active mt-3 overflow-auto" id="v-pills-mee" role="tabpanel" aria-labelledby="v-pills-mee-tab" tabindex="0" style="overflow-y:scroll;max-height: 500px;">
				<!-- ---------------- -->
				
				</div>

				<div class="container tab-pane fade mt-3 overflow-auto " id="v-pills-proc" role="tabpanel" aria-labelledby="v-pills-proc-tab" tabindex="0" style="overflow-y:scroll;max-height: 500px;">
				<!-- ---------------- -->
				</div>
		<!-- 

				<div class="container tab-pane fade  mt-3 overflow-auto  " id="v-pills-LES" role="tabpanel" aria-labelledby="v-pills-LES-tab" tabindex="0" >
					<div class="row mt-5" >
						<div class="col-sm-6 col-lg-4 mb-3">
							<div class="card card_size">
								<div class="card-body">
									<h5 class="card-title">Example file</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
									<a href="#" class="btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="container tab-pane fade  mt-3 overflow-auto  " id="v-pills-KMP" role="tabpanel" aria-labelledby="v-pills-KMP-tab" tabindex="0" >
					<div class="row mt-5" >
						<div class="col-sm-6 col-lg-4 mb-3">
							<div class="card card_size">
								<div class="card-body">
									<h5 class="card-title">Example file</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
									<a href="#" class="btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="container tab-pane fade  mt-3 overflow-auto  " id="v-pills-CP" role="tabpanel" aria-labelledby="v-pills-CP-tab" tabindex="0" >							
					<div class="row mt-5" >				
						<div class="col-sm-6 col-lg-4 mb-3">
							<div class="card card_size">
								<div class="card-body">
									<h5 class="card-title">Example file</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
									<a href="#" class="btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>							
					</div>
				</div>

				<div class="container tab-pane fade  mt-3 overflow-auto  " id="v-pills-CI" role="tabpanel" aria-labelledby="v-pills-CI-tab" tabindex="0" >
					<div class="row mt-5" >					
						<div class="col-sm-6 col-lg-4 mb-3">
							<div class="card card_size">
								<div class="card-body">
									<h5 class="card-title">Example file</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
									<a href="#" class="btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="container tab-pane fade  mt-3 overflow-auto  " id="v-pills-BP" role="tabpanel" aria-labelledby="v-pills-BP-tab" tabindex="0" >
					<div class="row mt-5" >
						<div class="col-sm-6 col-lg-4 mb-3">
							<div class="card card_size">
								<div class="card-body">
									<h5 class="card-title">Example file</h5>
									<p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
									<a href="#" class="btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>					
					</div>
				</div> -->
			</div>
		</div>
	</div>
</div>
<script>
	function over_view_tabs(evt, overviewName) {
		var i, x, tablinks;
		x = document.getElementsByClassName("overview");
		for (i = 0; i < x.length; i++) {
			x[i].style.display = "none";
		}
		tablinks = document.getElementsByClassName("tablink");
		for (i = 0; i < x.length; i++) {
			tablinks[i].className = tablinks[i].className.replace(" x-red", "");
		}
		document.getElementById(overviewName).style.display = "block";
		evt.currentTarget.className += " x-red";
	}

	$onload(get_all_list)
	function get_all_list(){
		$send({
			action : "/rapid/get_file_list",
			method : POST,
			func : function(res){
				var lists_ = JSON.parse(res)
				for(key in lists_){
					var file_holder = ""
					for (var i = 0; i < lists_[key].length; i++) {
						lists_[key][i]
						file_holder += (`
						<div class="x-col l4 m4 x-padding" >
							<div class="card card_size" style="height:120px;" onclick="dl('${lists_[key][i]}','${key}')">
								<div class="card-body x-hover-teal">
									<h5 class="card-title mytext-truncate" style="display: -webkit-box; -webkit-line-clamp: 7; -webkit-box-orient: vertical; overflow: hidden;">${lists_[key][i]}</h5>
									<p class="card-text">Click to download</p>
									<a href="#" class="x-hide btn btn-dark stretched-link  btn-sm text-white" type="button" data-bs-toggle="modal" data-bs-target="#viewDetails"><em>View Details </em></a>
								</div>
							</div>
						</div>
						`)
					}
					println("v-pills-"+key)
					$ID("v-pills-"+key).innerHTML = file_holder 
				}
			}
		})
	}

	function dl(nameF,key_){
		var _folder= "";
		if(key_=="mee"){
			_folder= "MEEGuide";
		}
		else if(key_=="proc"){
			_folder= "procurement";
		}
		var src_ = window.location.protocol+"//"+window.location.host+"/static/pdf/"+_folder+"/"+ nameF

		let a= document.createElement('a');
		a.target= '_blank';
		a.href= src_
		a.click();
	}

	function download_file(fff){
		let a= document.createElement('a');
		a.target= '_blank';
		a.href= fff;
		a.click();
	}

</script>