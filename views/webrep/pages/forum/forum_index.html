<!DOCTYPE html>
<html>
	<head>
		
		<!-- Required meta tags -->
		<meta charset="utf-890" lang="en-us">
		<script src="../../static/js/Brorn.min.js"></script>
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="../../static/webrepstatic/css/autofill.css">
		<link rel="icon" href="../static/img/icon.png">
		<link rel="stylesheet" href="../../static/webrepstatic/css/style.css"><!-- fontawesomeCDN -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />     
		<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Jost:wght@500;600&display=swap" rel="stylesheet">

		<!-- fontawesomeCDN -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"/>		
		<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>

		<!-- CSS only -->
		<link href="../../static/webrepstatic/css/bootstrap.min.css" rel="stylesheet">

		<!-- JavaScript Bundle with Popper -->
		<script defer src="../../static/webrepstatic/js/bs@5.2.3/bootstrap.bundle.min.js"></script>
		<script src="../../static/webrepstatic/js/bootstrap-autocomplete.min.js"></script>
		<!-- drag & drop file -->

		<link href="https://transloadit.edgly.net/releases/uppy/v1.6.0/uppy.min.css" rel="stylesheet">
		<script src="https://transloadit.edgly.net/releases/uppy/v1.6.0/uppy.min.js"></script>


		<title>RAPID Growth</title>
	</head>

	<body>

	<!-- NAVBAR -->
	<nav class=" navbar navbar-expand-lg fixed-top bg-white">
		<div class="container-fluid">
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo03" aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<a class="navbar-brand d-flex align-self-center ms-5" href="#">
			 <img src="../../static/webrepstatic/img/RAPID.svg" width="50" height="50" class="d-inline-block align-top small" alt="" style="margin-top: -10px;">
			 <span class="align-self-center ms-2 small ">Community</span>
			</a>
			<div class="collapse navbar-collapse" id="navbarTogglerDemo03">
				<ul class="navbar-nav mx-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link active" aria-current="page" href="#">Discussion</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#">Participants</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" data-bs-toggle="modal" href="#exampleModalToggle" role="button">Create Topic</a>
					</li>
					<li class="nav-item">
						<a href="/menu" class="nav-link" role="button">Menu</a>
					</li>
				</ul>
				<form class="d-flex" role="search">
					<input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
					<button class="btn btn-outline-success" type="submit">Search</button>
				</form>
			</div>
		</div>
	</nav>


	<!-- MIS FUROM BANNER -->
		<div class="position-relative">
			<div class="cover-item" >
				<div class="d-block w-100 bgfix" alt="..." style="background-image: url('/static/webrepstatic/img/rapidimage/forum.jpg'); filter: brightness(0.8)!important"></div>
			</div>
			<div class="container ">
				<div class="col-sm position-absolute top-50 start-50 translate-middle mb-5 text-center">
					 <img src="../../static/webrepstatic/img/rapid_project_white.svg" width="500" height="500" class="" alt="">
					<!-- <p class="col-sm fst-italic text-white text-start mt-5">Forums</p>						 -->
				 </div>
			</div>
		</div>


	<!-- Topics Card -->

	<div class="container mb-5 border-bottom border-light">
		<div class="align-self-center mt-5">
						<p class="lh-sm container">This community is gender-inclusive. Be respectful. Be aware of strong language, all caps, and exclamation points. Be careful with humor and sarcasm. Grammar and spelling matter but you are encouraged to speak using your mother tongue language if you feel you can express your concerns better, and as long as all the participants in the group discussion understand it as well. Cite your sources. Don't post or share (even privately) inappropriate material. Be forgiving.</p>
					</div>
		<div class="mt-5 text-center texttheme">
			<h1>Discussion</h1>
		</div>
		<div class="row row-cols-xxl-2 mt-3 ">
			{% for forum in forum_ls %}
			{% set f_id = forum['id'] %}
			<div class="col-12 mb-4">
				<!-- ========== -->
				<div class="card shadow mb-5 bg-body rounded border-0 mt-5" onclick="goto('/forum_talks/{{f_id}}')" style="height:400px; width: 600px">
					<div class=" row d-flex ">
						<div class="col-6 d-block px-auto px-5 pt-5">							
							<div class="" style="width: 250px;">
								<h2 class="mytext-truncate stretched-link texttheme  fw-bolder lh-sm" style="display: -webkit-box; -webkit-line-clamp: 6; -webkit-box-orient: vertical; overflow: hidden;" href="#" type="button">{{forum['topic']}}</h2>
							</div>
							<div class=" text-secondary mt-3 "  style="height:20px; width: 300px;">
								<p class="small mytext-truncate text-muted lh-sm" style="display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">Moderated by&nbsp; {{forum['uploader']}}</p>

							</div>
							<div class="mt-4" style="height: 20px;">
									<p class="small texttheme ">{{forum['date_created']}}</p>
								</div>
						</div>
						<div class="col-6 dis-item">
							<img src="../../static/webrepstatic/img/discuss_default.svg" loading="lazy" class=" dis-img rounded-end" alt="..." >
						</div>
					</div>
						
				</div>
				<!-- ========== -->
			</div>
			{% endfor %}
		</div>
	</div>

	<!-- Participants -->
<!-- 
	<div class="container">
		<div class="mt-5 texttheme">
			<h4>Participants</h4>
		</div>
		<div class="row row-cols-lg-3 ">
			<div class="col mb-4">
				<div class="card border-success">
					<div class=" d-flex">
						<div class="">
							<img src="https://cdn.vectorstock.com/i/preview-1x/54/17/person-gray-photo-placeholder-man-vector-24005417.jpg" class="img_class rounded-1 article-img-content  px-1 pt-1 pb-1 rounded-3" alt="...">
						</div>
						<div class="d-block ">
							
							<div class="mt-2 " style="height: 20px;">
								<p class="xs-text texttheme ">Online 2 hours ago</p>												
							</div>
							<div class=" mt-1" style="width: 250px;">
								<a class="text-truncate stretched-link texttheme  fw-bolder fs-5" href="#" type="button">Doofen Smurf</a>
							</div>
							<div class="  " style="height:25px; width: 200px;">
								<p class="small text-truncate">Project Manager</p>
							</div>
							<div class="" style="height: 20px;">
								<p class="xs-text texttheme">RCU XIII</p>												
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
 -->
	<!-- Create Topic Modal -->
	<div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="exampleModalToggleLabel">Create Discussion</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<input class="FORUM_DATA" id="created_by" value="{{USER_DATA['id']}}" hidden>
					<input class="FORUM_DATA" id="id" hidden>

					<label for="topic" class="form-label texttheme fontBold mt-2">Topic</label>
					<input class="FORUM_DATA form-control"  id="topic" placeholder="Type your discussion here">
					
					<label for="description" class="form-label texttheme fontBold mt-2">Description</label>
					<textarea class="FORUM_DATA form-control" id="description" rows="3"></textarea>

					<label for="commodity" class="form-label texttheme fontBold mt-2">Commodity</label>
					<select id="commodity" class="FORUM_DATA form-select" aria-label="Default select example">
						<option selected>All</option>
							<option>Coffee</option>
							<option>Cacao</option>
							<option>Coconut</option>
							<option>Processed Fruits & Nuts</option>
					</select>

					<!-- <label for="formFile" class="form-label texttheme fontBold mt-2">Select Photo</label>
					<input class="FORUM_DATA form-control" type="file" id="formFile"> -->

				</div>
				<div class="modal-footer">
					<button class="btn btn-primary" data-bs-target="#exampleModalToggle2" data-bs-toggle="modal" onclick="review_topic()">
						Continue
					</button>
				</div>
			</div>
		</div>
	</div>
	<div class="modal fade" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Review your Discussion</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<h5>Topic</h5><h3 id="rev_topic"></h3><br>
					<span>Description</span> : <b id="rev_description"></b><br>
					<span>Commodity</span> : <b id="rev_commodity"></b><br>
				</div>
				<div class="modal-footer">
					<button class="btn btn-primary" data-bs-toggle="modal" onclick="save_topic()">Post</button>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		let FORUM_DATA_INPUT = {}
		function review_topic(){
			var FORUM_DATA_FIELDS = $CLASS("FORUM_DATA")
			for (var i = 0; i < FORUM_DATA_FIELDS.length; i++) {
				try{
					FORUM_DATA_INPUT[FORUM_DATA_FIELDS[i].id] = FORUM_DATA_FIELDS[i].value
					$ID("rev_"+FORUM_DATA_FIELDS[i].id).innerText = FORUM_DATA_FIELDS[i].value
				}catch(e){warnprintln(e)}
			}
		}

		function save_topic(){
			println(FORUM_DATA_INPUT)
			$send({
				action : "/forum/save_forum",
				method : POST,
				data : $DATA(FORUM_DATA_INPUT),
				func : function(r){
					var res = JSON.parse(r)
					println(res)
				}
			})
		}
	</script>

	{% include 'main/footer.html' %}
	</body>
</html>