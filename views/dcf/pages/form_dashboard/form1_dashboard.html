{% extends 'layouts/dcf_base.html' %}
{% set active_page = "dcf_dashboard" %}
{% block title %} Dashboard {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<title>Form 1 Dasboard</title>
<script src="/static/psalm_static/dcf_static/assets/vendor/chart.js/dist/Chart.min.js"></script>
<script src="/static/psalm_static/dcf_static/assets/vendor/chart.js/dist/Chart.extension.js"></script>
<div class="header bg-primary pb-6">
	<div class="container-fluid">
		<div class="header-body " style="background-color: #007399;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">

		<br>
				<!-- Search form -->

		<h1 class=" text-white" style="font-size:1.8em; font-weight: bold; text-align: center; margin: 2px;">FORM 1 PREPARATION, REVIEW AND APPROVAL STATUS DASHBOARD</h1>
				
				<!-- / Search form -->
			<br>
		</div><br><br>
			<style>
				.icon-button__badge {
					position: absolute;
					top: -10px;
					right: -10px;
					width: 25px;
					height: 25px;
					background: #ff4d4d;
					color: #ffffff;
					display: flex;
					justify-content: center;
					align-items: center;
					border-radius: 50%;
				}
				h3, h6 {
	margin: 0;
	line-height: 1em;
}
table,
				th,
				td {
					border: 1px solid black;
					border-collapse: collapse;
				}

h6 {
	font-size: 1em;
	padding: 0 0 .5em;
		color: #919191;
}
figure {
	margin: 0 auto;
	max-width: 1100px;
	position: relative;
}



@keyframes expand {
	from {width: 0%;}
	to {width: 100%;}
}
@media screen and (min-width: 768px) {
	@keyframes expand {
		from {width: 0%;}
		to {width: calc(100% - 75px);}
	}
}
.chart {
	overflow: hidden;
	width: 0%;
	animation: expand 1.5s ease forwards;
}
.row + .row .chart {
	animation-delay: .2s;
}
.row + .row + .row .chart {
	animation-delay: .4s;
}
.block {
	display: block;
	height: 100px;
	color: #fff;
	font-size: .75em;
	float: left;
	background-color: #E27A3F;
	position: relative;
	overflow: hidden;
	opacity: 1;
	transition: opacity, .3s ease;
	cursor: pointer;
}
.block:nth-of-type(2),
.legend li:nth-of-type(2):before {
	background-color: #145252;

}
.block:nth-of-type(3),
.legend li:nth-of-type(3):before {
	background-color: #538cc6;

}
.block:nth-of-type(4),
.legend li:nth-of-type(4):before {
	
	background-color: #2db9b9;

}
.block:nth-of-type(5),
.legend li:nth-of-type(5):before {
	background-color: #DF5A49;
}
.block:nth-of-type(6),
.legend li:nth-of-type(6):before {
	background-color: #962D3E;
}
.block:hover {
	opacity: .65;
}
.value {
	display: block;
	line-height: 1em;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%);
}
.x-axis {
		text-align: center;
	padding: .5em 0 2em;
}

.legend {
		margin: 0 auto;
		padding: 0;
	font-size: .9em;
}
.legend li {
		display: inline-block;
		padding: .25em 1em;
		line-height: 1em;
}
.legend li:before {
		content: "";
		margin-right: .5em;
		display: inline-block;
		width: 15px;
		height: 15px;
		background-color: #E27A3F	;

}
@media screen and (min-width: 768px) {
	h6 {
		padding: 0;
		width: 75px;
		float: left;
		line-height: 100px;
	}
	.block {
		font-size: 1em;
	}
	.legend {
		width: 50%;
	}
}
			</style>

<div class="col-xl-12 col-md-6">
			<div class="card bg-secondary" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
			
				<!-- Card header -->
				<div class="card-header" style="background-color: #204060;">
						
				
		
		
		
		<!-- Title -->
		
		
		<h3 class="h1 mb-0 text-white"><center>DIPs by Region</center></h3>
		
		
		
		
		
		
		
		
				</div><br>
			
				
			<div class="bg-transparent">
				<div class="row align-items-center">
			
				
				</div>
			
				</div>
				
				<!-- Card body -->
				<div class="card-body">
						
				 <div class="x-axis">
				 	
		<ul class="legend text-default" style="font-size: 1.2em;">
			<li>Not Started: <b>{{over_all_dips_list['not_started']}}</b> </li>
			<li>Ongoing Development DIPs: <b>{{over_all_dips_list['ongoing']}}</b> </li>
			<li>In the Pipeline DIPs: <b>{{over_all_dips_list['pipeline']}}</b> </li>
			<li>Approved DIPs: <b>{{over_all_dips_list['approve']}}</b> </li>
		


		</ul><br>
		<h1 style="font-family: sans-serif;">TOTAL DIPs:&nbsp; <b>{{over_all_dips_list['over_all_total']}}</b></h1>
	</div>
	<figure>
		<div class="graphic">
		{% for dip in dips_list %}
		<div class="row" style="margin-bottom:-15%;">
			<h6 class="text-default">RCU&nbsp;{{dip}}</h6>
			<div class="chart">
				<span class="block" title="Not started DIPs: {{dips_list[dip]['not_started']}}">
					<span data-toggle="modal" data-target="#commoditymodal" class="value">{{((dips_list[dip]['not_started']/dips_list[dip]["total"])*100)|round(1, 'floor')}}% </span><br>
					<center>{{dips_list[dip]['not_started']}}</center>
				</span>
				<span class="block" title="Ongoing DIPs: {{dips_list[dip]['ongoing']}}">
					<span class="value">{{((dips_list[dip]['ongoing']/dips_list[dip]["total"])*100)|round(1, 'floor')}}%</span><br>
					<center>{{dips_list[dip]['ongoing']}}</center>
				</span>
				<span class="block" title="In the Pipeline DIPs: {{dips_list[dip]['pipeline']}}">
					<span class="value">{{((dips_list[dip]['pipeline']/dips_list[dip]["total"])*100)|round(1, 'floor')}}%</span><br>
					<center>{{dips_list[dip]['pipeline']}}</center>

				</span>
				<span class="block" title="Approved DIPs: {{dips_list[dip]['approve']}}">
					<span class="value">{{((dips_list[dip]['approve']/dips_list[dip]["total"])*100)|round(1, 'floor')}}%</span><br>
					<center>{{dips_list[dip]['approve']}}</center>

				</span><center><span class="badge bg-secondary" style="font-size:1em; font-weight: bold;">{{ dips_list[dip]["total"] }} DIPs</span></center>
			</div>
		</div>
		{% endfor %}

<!-- 		{% for dip in dips_list %}
		<div class="row" style="margin-bottom:-20%;">
			<h6>RCU&nbsp;{{dip}}</h6>
			<div class="chart">
				<span class="block" >
					<span class="value">{{((dips_list[dip]['not_started']/total_dip_nat)*100)|round(1, 'floor')}}%</span>
				</span>
				<span class="block" >
					<span class="value">{{((dips_list[dip]['ongoing']/total_dip_nat)*100)|round(1, 'floor')}}%</span>
				</span>
				<span class="block">
					<span class="value">{{((dips_list[dip]['pipeline']/total_dip_nat)*100)|round(1, 'floor')}}%</span>
				</span>
				<span class="block">
					<span class="value">{{((dips_list[dip]['approve']/total_dip_nat)*100)|round(1, 'floor')}}%</span>
				</span>
			</div>
		</div>
		{% endfor %} -->

	</div>
</figure>
		
		
				</div>
			</div>
				
		
				
		</div>

<br>

<div class="col-xl-12 col-md-6">
			<div class="card bg-secondary" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
			
				<!-- Card header -->
				<div class="card-header" style="background-color: #204060;">
						
				
		
		
		
		<!-- Title -->
		
		
		<h3 class="h1 mb-0 text-white"><center>MSME</center></h3>
		
		
		
		
		
		
		
		
				</div><br>
			
				
			<div class="bg-transparent">
				<div class="row align-items-center">
			
				
				</div>
			
				</div>
				
				<!-- Card body -->
				<div class="card-body">
						
			
	<div class="row">
	<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #004d4d; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h5 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total # of Large Enterprises</b><br></h5>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1msme[0]['total_large_entep']}}</span>
						</div>

						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/large_enterprise.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
						
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>
 <div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #264d73	; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h5 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total # of Medium Enterprises</b><br></h5>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1msme2[0]['total_medium_entep']}}</span>
						</div>

						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/medium_enterprise.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
						
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #26734d; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h5 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total # of Small Enterprises</b><br></h5>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1msme3[0]['total_small_entep']}}</span>
						</div>

						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/small_enterprise.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
						
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #b30047; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h5 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total # of Micro Enterprises</b><br></h5>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1msme4[0]['total_micro_entep']}}</span>
						</div>

						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/micro_enterprise.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
						
					</div>

						

					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>
</div>




		
		
				</div>
			</div>
				
		
				
		</div>


			<br>




<div class="col-xl-12 col-md-6">
			<div class="card bg-secondary" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
			
				<!-- Card header -->
				<div class="card-header" style="background-color: #204060;">
						
				
		
		
		
		<!-- Title -->
		
		
		<h3 class="h1 mb-0 text-white"><center>Smallholder Farming Households by Sector based on approved DIPs</center></h3>
		
		
		
		
		
		
		
		
				</div><br>
			
				
			<div class="bg-transparent">
				<div class="row align-items-center">
			
				
				</div>
			
				</div>
				
				<!-- Card body -->
				<div class="card-body">
						
			


<div class="row">
	<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #2d5986; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h1 class=" card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Male</b></h1>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1male[0]['total_male']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/man.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #2d5986; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Male</b><br>Youth</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1maleyouth[0]['total_maleyouth']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/youth.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #2d5986; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Male</b><br>IP</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1maleip[0]['total_maleip']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/male_ip.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #2d5986; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Male</b><br>PWD</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1malepwd[0]['total_malepwd']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/pwd.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

</div><hr>
<div class="row">
	 <div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #800055; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h1 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Female</b></h1>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1female[0]['total_female']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/female.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>

<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #800055; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of female</b><br>Youth</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1femaleyouth[0]['total_femaleyouth']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/youth2.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>


<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #800055; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Female</b><br>IP</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1femaleip[0]['total_femaleip']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/female_ip.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>


<div class="col-xl-3 col-md-6">
			<div class="card card-stats h-80"
				style="height: 130px; background-color: #800055; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
				<!-- Card body -->
				<div class="card-body">
					<div class="row">
						<div class="col">
							<h3 class="card-title text-uppercase text-white mb-0"><b class="formtext">Total no. of Female</b><br>PWD</h3>
							<span class="h1 text-white font-weight-bold mb-0">{{dcf_form1femalepwd[0]['total_femalepwd']}}</span>
						</div>
						<div class="col-auto">
							<div class="icon icon-shape">
								<img src="../static/psalm_static/dcf_static/assets/img/icons/pwd.png"
									style="width: 250%; height: 250%;">
							</div>
						</div>
					</div>
					<p class="mt mb-0 text-sm">
						<br>
					</p>
				</div>

	</div>
</div>



</div>

<div class="row">
  <div class="col-xl-6 col-md-6">
    <!-- Chart -->
    <canvas id="myChart" style="max-width: 800px; height: 700px;"></canvas>
  </div>

  <div class="col-xl-6 col-md-6">
    <div class="container">
      <div class="form-group">
        <div class="row" style="margin-top:50px;"	>
		{% for dip in dips_list %}

          <div class="col-md-3" style="margin-bottom:30px;">
            <h4>Male :</h4> 
            <h4>Female :</h4>
            <h4>Youth :</h4> 
            <h4>IP :</h4>
            <h4>PWD :</h4>
            <h4>Total :</h4>

            <h2>RCU &nbsp;{{dip}} </h2>
          </div>

{% endfor %}

        </div>
      </div>
    </div>
  </div>
</div>
<script >
  var xValues = [
    'Male: ' + {{dcf_form1male[0]['total_male']}},
    'Female: ' + {{dcf_form1female[0]['total_female']}},
  ];
  var yValues = [
    {{dcf_form1male[0]['total_male']}},
    {{dcf_form1female[0]['total_female']}},
  ];
  var barColors = ['#2d5986', '#800055'];

  var total = yValues.reduce((a, b) => a + b, 0);

  var percentageValues = yValues.map((value) => ((value / total) * 100).toFixed(2));

  Chart.plugins.register({
    afterDatasetsDraw: function (chart, easing) {
      var ctx = chart.ctx;

      chart.data.datasets.forEach(function (dataset, i) {
        var meta = chart.getDatasetMeta(i);
        if (!meta.hidden) {
          meta.data.forEach(function (element, index) {
            ctx.fillStyle = 'white';

            var fontSize = 20; // Change this to your desired font size
            var fontStyle = 'bold';
            var fontFamily = 'sans-serif';
            ctx.font = Chart.helpers.fontString(fontSize, fontStyle, fontFamily);

            // Display only the percentage value without .00
            var dataString = Number(percentageValues[index]) + '%';

            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            var padding = 5;
            var position = element.tooltipPosition();
            ctx.fillText(dataString, position.x, position.y - (fontSize / 2) - padding);
          });
        }
      });
    },
  });

  new Chart('myChart', {
    type: 'pie',
    data: {
      labels: xValues,
      datasets: [
        {
          backgroundColor: barColors,
          data: yValues,
        },
      ],
    },
    options: {
      title: {
        display: true,
        text: 'Overall Total: {{dcf_form1sextotal[0]['total_sex'] | int}}',
        fontSize: 30,
        fontColor: 'black',
      },
      plugins: {
        datalabels: {
          display: false,
        },
      },
      legend: {
        labels: {
          fontColor: 'black', // Customize the legend label color
          fontSize: 20, // Customize the legend label font size
        },
      },
      tooltips: {
        callbacks: {
          label: function (tooltipItem, data) {
            // Display only the percentage value without .00 in the tooltip
            return data.labels[tooltipItem.index] + ': ' + Number(percentageValues[tooltipItem.index]) + '%';
          },
        },
      },
    },
  });
</script>



		
		
				</div>
			</div>
				
		
				
		</div>


 




			<!-- Card header -->
			<div class="d-flex justify-content-center">
				<div class="table-responsive table py-4 mx-auto" style="max-width: 100%;">
					<div id="datatable-buttons_wrapper" class=" text-dark dataTables_wrapper dt-bootstrap4">
						<table class="table table-dark table-flush dataTable " id="datatable-buttons" role="grid"
							aria-describedby="datatable-buttons_info" style="width:100% !important">
							<thead class="thead">
								<tr role="row">
									<th>ID</th>
									<th>RCUs</th>
									<th>Scope/Provinces</th>
									<th>Commodity</th>
									<th>Action</th>
									<th>Timestamp</th>
								</tr>
							</thead>

							<tbody>
								<tr>
									<div>
										{% for row in form1_datatable %}
										<td>{{ row['id'] }}</td>
										<td>{{ row['form_1_rcus'] }}</td>
										<td>{{ row['form_1_scope_provinces'] }}</td>
										<td>{{ row['form_1_commodity'] }} {{ row['form_1_commodity_others'] }}</td>
										<td>
											<!-- {{row['upload_by']}} === {{user_data['id']}} -->
								

											{% if row['upload_by']|string == user_data['id']|string %}
											<a style="color: #00FFAB;" href="/dcf/form1?id={{ row['id'] }}&table=dcf_prep_review_aprv_status">
												<span><i class="fa-solid fa-pen-to-square"></i></span> Edit
											</a> &nbsp;&nbsp;&nbsp;&nbsp;
											<a style="color: #ff4d4d;" onclick="showDeleteConfirmation('{{ row['id'] }}'); return false;"
												href="/delete_record/dcf_prep_review_aprv_status/{{ row['id'] }}">
												<span><i class="fa-solid fa-trash"></i></span> Delete
											</a>
											{% elif user_data['job'] == "Super Admin" %}
											<a style="color: #1ac6ff;" href="/dcf/form1?id={{ row['id'] }}&table=dcf_prep_review_aprv_status">
												<span><i class="fa fa-eye" aria-hidden="true"></i></span> View
											</a>
											{% else %}
											<a style="color: #1ac6ff;" href="/dcf/form1?id={{ row['id'] }}&table=dcf_prep_review_aprv_status">
												<span><i class="fa fa-eye" aria-hidden="true"></i></span> View
											</a>
											{% endif %}

										</td>
										<td class="date-cell"> {{ row['date_created'] }}<br>
											{% if row['date_modified'] %}
											<i style="font-size: smaller;color: #00cc66;">Updated: {{ row['date_modified'] | format_timestamp
												}}</i>
											{% endif %}</i>
										</td>


								</tr>

								{% endfor %}
							</tbody>
						</table>

					</div>



				</div>

			</div>


			<div class="py-4">
				<div class="dropdown">
					<button class="btn btn-default d-inline-flex align-items-center me-2"
						onclick="window.open('/dcf/form1', '_blank')">
						<i class="fa-solid fa-arrow-up-right-from-square"></i>
						&nbsp; GO TO PREPARATION, REVIEW AND APPROVAL STATUS FORM
					</button>
				</div>
			</div>
			{% include "includes/form_spreadsheet/form1spreadsheet.html" %}

			<!-- Page content -->


		</div>
	</div>
</div>








<script>

	$('.value').each(function() {
	var text = $(this).text();
	$(this).parent().css('width', text);
});

$('.block').tooltip();

	function showDeleteConfirmation(id) {
								swalWithCustomButtons.fire({
									title: 'Are you sure?',
									text: "You won't be able to revert this!",
									icon: 'warning',
									showCancelButton: true,
									confirmButtonText: 'Yes, delete it!',
									cancelButtonText: 'No, cancel',
									reverseButtons: true,
									customClass: {
										confirmButton: 'btn btn-success',
										cancelButton: 'btn btn-danger',
									},
								}).then((result) => {
									if (result.isConfirmed) {
										window.location.href = `/delete_record/dcf_prep_review_aprv_status/${id}`;
									} else if (result.dismiss === Swal.DismissReason.cancel) {
										swalWithCustomButtons.fire(
											'Cancelled',
											'Your record is safe',
											'error'
										);
									}
								});

								// Prevent the default link behavior
								return false;
							}

							const swalWithCustomButtons = Swal.mixin({
								customClass: {
									confirmButton: 'btn btn-success',
									cancelButton: 'btn btn-danger'
								},
								buttonsStyling: false
							});


</script>


{% endblock content %}

<!-- Specific JS goes HERE -->

{% block javascripts %}



{% endblock javascripts %}